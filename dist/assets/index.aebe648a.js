var _=Object.defineProperty,V=Object.defineProperties;var y=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var f=(t,e,a)=>e in t?_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,i=(t,e)=>{for(var a in e||(e={}))P.call(e,a)&&f(t,a,e[a]);if(x)for(var a of x(e))E.call(e,a)&&f(t,a,e[a]);return t},g=(t,e)=>V(t,y(e));import{d as C,h as R,F as N,c as T,a as m,v as U,E as p,b as F}from"./validate.156f0b77.js";import{L}from"./index.5d6809df.js";import{_ as A,L as B,ag as S,g as k,r as q,o as I,c as M,a as s,f as l,I as o,w,E as Y}from"./vendor.5c522d5e.js";import"./logo.ec71436e.js";const G={class:"relative h-screen bg-white dark:bg-zinc-800 text-center xl:bg-zinc-200"},O={class:"block px-3 mt-4 dark:bg-zinc-800 xl:bg-white xl:w-[388px] xl:dark:bg-zinc-900 xl:m-auto xl:mt-8 xl:py-4 xl:rounded-sm xl:shadow-lg"},j=l("h3",{class:"mb-2 font-semibold text-base text-main dark:text-zinc-300 hidden xl:block"}," \u6CE8\u518C\u8D26\u53F7 ",-1),D=l("div",{class:"text-center"},[l("a",{class:"text-zinc-400 dark:text-zinc-600 hover:text-zinc-600 dark:hover:text-zinc-400 text-sm duration-400",href:"https://m.imooc.com/newfaq?id=89",target:"__black"}," \u6CE8\u518C\u5373\u540C\u610F\u300AYwallpaper\u6CE8\u518C\u534F\u8BAE\u300B ")],-1),X={__name:"index",setup(t){const e=A(),a=B(),b=S();C("validateConfirmPassword",T);const z=()=>{e.commit("app/changeRouterType","push"),a.push("/login")},r=k({username:"",password:"",confirmPassword:""}),c=k(!1);console.log(b);const v=async()=>{c.value=!0;try{const u={username:r.value.username,password:r.value.password};await e.dispatch("user/register",i(i({},u),b.query)),await e.dispatch("user/login",g(i({},u),{loginType:L}))}finally{c.value=!1}a.push("/")};return(u,n)=>{const h=q("m-button");return I(),M("div",G,[s(R),l("div",O,[j,s(o(N),{onSubmit:v},{default:w(()=>[s(o(m),{class:"dark:bg-zinc-800 dark:text-zinc-400 border-b-zinc-400 border-b-[1px] w-full outline-0 pb-1 px-1 text-base focus:border-b-main dark:focus:border-b-zinc-200 xl:dark:bg-zinc-900",name:"username",type:"text",placeholder:"\u7528\u6237\u540D",autocomplete:"on",rules:o(U),modelValue:r.value.username,"onUpdate:modelValue":n[0]||(n[0]=d=>r.value.username=d)},null,8,["rules","modelValue"]),s(o(p),{class:"text-sm text-red-600 block mt-0.5 text-left",name:"username"}),s(o(m),{class:"dark:bg-zinc-800 dark:text-zinc-400 border-b-zinc-400 border-b-[1px] w-full outline-0 pb-1 px-1 text-base focus:border-b-main dark:focus:border-b-zinc-200 xl:dark:bg-zinc-900",name:"password",type:"password",placeholder:"\u5BC6\u7801",autocomplete:"on",rules:o(F),modelValue:r.value.password,"onUpdate:modelValue":n[1]||(n[1]=d=>r.value.password=d)},null,8,["rules","modelValue"]),s(o(p),{class:"text-sm text-red-600 block mt-0.5 text-left",name:"password"}),s(o(m),{class:"dark:bg-zinc-800 dark:text-zinc-400 border-b-zinc-400 border-b-[1px] w-full outline-0 pb-1 px-1 text-base focus:border-b-main dark:focus:border-b-zinc-200 xl:dark:bg-zinc-900",name:"confirmPassword",type:"password",placeholder:"\u786E\u8BA4\u5BC6\u7801",autocomplete:"on",rules:"validateConfirmPassword:@password",modelValue:r.value.confirmPassword,"onUpdate:modelValue":n[2]||(n[2]=d=>r.value.confirmPassword=d)},null,8,["modelValue"]),s(o(p),{class:"text-sm text-red-600 block mt-0.5 text-left",name:"confirmPassword"}),l("div",{class:"pt-1 pb-3 leading-[0px] text-right"},[l("div",{class:"mb-2"},[l("a",{class:"inline-block p-1 text-zinc-400 text-right dark:text-zinc-600 hover:text-zinc-600 dark:hover:text-zinc-400 text-sm duration-400 cursor-pointer",target:"__black",onClick:z}," \u53BB\u767B\u5F55 ")]),D]),s(h,{class:"w-full dark:bg-zinc-900 xl:dark:bg-zinc-800",isActiveAnim:!1,loading:c.value},{default:w(()=>[Y(" \u7ACB\u5373\u6CE8\u518C ")]),_:1},8,["loading"])]),_:1})])])}}};export{X as default};
